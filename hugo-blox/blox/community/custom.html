{{/* Professional Academic Custom Block */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}

<div style="width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw; background-color: {{ $block.design.background.color | default "#f9fafb" }}; padding: 4rem 0;">
  <div style="max-width: 1100px; margin: 0 auto; padding: 0 3rem;">
    {{ with $block.content.title }}
      <h2 style="
        text-align: left; 
        margin-bottom: 2.5rem; 
        font-size: 1.875rem;
        font-weight: 600;
        color: #111827;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        letter-spacing: -0.01em;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 1rem;
      ">
        {{ . | markdownify }}
      </h2>
    {{ end }}
    
    <div style="
      font-size: 1.0625rem;
      line-height: 1.75;
      color: #374151;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    ">
      {{ $text := $block.content.text | markdownify }}
      
      {{/* Professional paragraph styling */}}
      {{ $text = replace $text "<p>" "<p style='margin-bottom: 1.25rem; color: #1f2937; font-size: 1.0625rem; line-height: 1.75;'>" }}
      
      {{/* Bold text in dark gray/black */}}
      {{ $text = replace $text "<strong>" "<strong style='color: #111827; font-weight: 600;'>" }}
      
      {{/* Green links with subtle underline */}}
      {{ $text = replace $text "<a href=" "<a style='color: #15803d; font-weight: 500; text-decoration: none; border-bottom: 1px solid #15803d; transition: color 0.2s ease, border-color 0.2s ease;' onmouseover='this.style.color=\"#14532d\"; this.style.borderBottomColor=\"#14532d\";' onmouseout='this.style.color=\"#15803d\"; this.style.borderBottomColor=\"#15803d\";' href=" }}
      
      {{ $text | safeHTML }}
    </div>
    
    {{/* Professional styling for Recent Updates section */}}
    {{ if eq $block.id "recent-updates" }}
    <style>
      #recent-updates p {
        margin-bottom: 1.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid #e5e7eb;
        color: #374151;
        font-size: 1rem;
        line-height: 1.75;
      }
      
      #recent-updates p:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }
      
      #recent-updates p:first-of-type {
        margin-bottom: 2rem;
        text-align: left;
        font-size: 1.0625rem;
      }
      
      #recent-updates strong:first-child {
        color: #111827;
        font-weight: 600;
        font-size: 0.9375rem;
        margin-right: 0.5rem;
      }
      
      #recent-updates a {
        color: #15803d !important;
        font-weight: 500 !important;
        text-decoration: none !important;
        border-bottom: 1px solid #15803d !important;
        transition: color 0.2s ease, border-color 0.2s ease !important;
      }
      
      #recent-updates a:hover {
        color: #14532d !important;
        border-bottom-color: #14532d !important;
      }
    </style>
    {{ end }}
    
    {{/* Professional styling for Research section */}}
    {{ if eq $block.design.background.color "#f5f5f5" }}
    <style>
      /* Clean focus sections with left border */
      div[style*="background-color: #f5f5f5"] p:nth-child(3),
      div[style*="background-color: #f5f5f5"] p:nth-child(4) {
        background: #ffffff;
        padding: 1.25rem 1.5rem;
        border-left: 3px solid #15803d;
        margin: 1.75rem 0;
        font-size: 1rem;
      }
      
      /* Professional link styling in research section */
      div[style*="background-color: #f5f5f5"] a {
        color: #15803d !important;
        font-weight: 500 !important;
        text-decoration: none !important;
        border-bottom: 1px solid #15803d !important;
      }
      
      div[style*="background-color: #f5f5f5"] a:hover {
        color: #14532d !important;
        border-bottom-color: #14532d !important;
      }
      
      /* Strong text styling */
      div[style*="background-color: #f5f5f5"] strong {
        color: #111827 !important;
        font-weight: 600 !important;
      }
    </style>
    {{ end }}
  </div>
</div>